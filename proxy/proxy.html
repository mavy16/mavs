<html>
    <head>
        <title>Mavs Prox</title>
        <link rel="shortcut icon" type="image/png" href="/gui/img/favicon.png"/>
        <link rel="stylesheet" href="/gui/css/shared.css">
        <link rel="stylesheet" href="/gui/css/navbar.css">
        <link rel="stylesheet" href="/proxy/css/basic.css">
    </head>
    <body style="margin-bottom: 100px">
        <div class="topnav">
          <a href="/">Home</a>
          <a href="/plugin/proxy/gui" class="active">Proxy</a>
          <div class="topnav-right">
            <a href="/logout">Logout</a>
          </div>
        </div>
        <div class="column" style="flex:100%; margin-top: 0;">
            <center>
                <div class="row-canvas">
                    <div class="section-profile" style="display:block;">
                        <div class="row">
                            <div class="column section-border" style="flex: 25%;">
                                    <div class="proxy" style="">
                                        <img src="/proxy/img/redirect.png">
                                        <h4 style="margin-bottom:-5px">Build Reverse Proxy</h4>
                                        <p>Set reverse proxy configuration and launch a new proxy service</p>
                                        <select id="proxy_name" name="proxy_name" >
                                            <option disabled selected>Select a proxy type</option>
                                            {% for p in proxy_types %}
                                            <option id="{{ p }}" value="{{ p }}">{{ p }}</option>
                                            {% endfor %}
                                        </select>
                                        <input id="cert_path" name="cert_path" placeholder="Provide a /path/to/cert_key.pem file (Default: plugins/proxy/conf/ssl_cert.pem)">
                                        <input id="http_port" name="http_port" placeholder="Provide an http port (Default: 80)">
                                        <input id="https_port" name="https_port" placeholder="Provide an https port (Default: 443)">
                                        <input id="caldera_ip" name="caldera_ip" placeholder="Provide the IP address of caldera server (Default: localhost)">
                                        <input id="caldera_port" name="caldera_port" placeholder="Provide the port caldera server is running on (Default: 8888)">
                                        <select id="launch_proxy" name="launch_proxy">
                                            <option disabled selected>Launch proxy?</option>
                                            <option value="True">Render Config and Launch</option>
                                            <option value="False">Just Render Config</option>
                                        </select>
                                        <button id="proxy_config_submit" class="button-success atomic-button" onclick="createProxy();">Create Reverse Proxy</button>
                                        <div class="flashy">
                                            <div id="flash-proxy-bar"></div>
                                        </div>
                                    </div>
                            </div>
                            <div class="column" style="flex: 75%;">
                                <pre id="proxy_config"></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </center>
        </div>
    </body>
    <script src="/gui/jquery/jquery.js"></script>
    <script src="/proxy/js/proxy.js"></script>
</html>